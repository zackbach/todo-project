(()=>{"use strict";const e=()=>({name:"",desc:"",date:""}),t=()=>({name:"",tasks:[]}),n=(()=>{const e=e=>{document.getElementById("projectHeader").innerHTML=e.name,document.getElementById("content").innerHTML="";for(let t=0;t<e.tasks.length;t++){let n=document.createElement("div"),o=document.createElement("h4");o.textContent=e.tasks[t].name,n.appendChild(o);let r=document.createElement("p");r.textContent=e.tasks[t].desc,n.appendChild(r);let d=document.createElement("p");d.textContent=e.tasks[t].date,n.appendChild(d);let c=document.createElement("button");c.textContent="Edit",c.onclick=function(){document.getElementById("taskModal").style.display="block"},n.appendChild(c),document.getElementById("content").appendChild(n)}};return{renderProj:()=>{document.getElementById("projects").innerHTML="";for(let t=0;t<o.projList.length;t++){let n=document.createElement("div"),r=document.createElement("h3");r.textContent=o.projList[t].name,r.addEventListener("click",(function(){o.currentProj.project=o.projList[t],o.currentProj.index=t,e(o.currentProj.project)})),n.appendChild(r);let d=document.createElement("button");d.textContent="Edit",d.onclick=function(){document.getElementById("projModal").style.display="block",document.getElementById("projTitle").value=o.projList[t].name,o.currentProj.name=o.projList[t].name,o.currentProj.index=t},n.appendChild(d),document.getElementById("projects").appendChild(n)}},renderTasks:e}})(),o=(()=>{let o=[t()],r={project:o[0],index:0},d={};const c=(e,t)=>{o[e].name=t,r.project=o[e],n.renderProj(),n.renderTasks(r.project)};return{projList:o,addTask:(t,n,o,r)=>{let d=e(n,o,r);t.tasks.push(d)},updateProj:c,currentProj:r,projSubmit:()=>{c(r.index,document.getElementById("projTitle").value)},currentTask:d,taskSubmit:e=>{((e,t,o,r,d)=>{e.tasks[t.index].name=o,e.tasks[t.index].desc=r,e.tasks[t.index].date=d,n.renderTasks(e)})(e,d,document.getElementById("taskTitle").value,document.getElementById("taskDesc").value,document.getElementById("taskDate").value)}}})();window.onclick=function(e){e.target!=document.getElementById("projModal")&&e.target!=document.getElementById("taskModal")||(document.getElementById("projModal").style.display="none",document.getElementById("taskModal").style.display="none")},document.getElementById("projButton").onclick=function(){document.getElementById("projModal").style.display="block",document.getElementById("projTitle").value="",o.projList.push(t()),o.currentProj.project=o.projList[o.projList.length-1],o.currentProj.index=o.projList.length-1},document.getElementById("taskButton").onclick=function(){document.getElementById("taskModal").style.display="block",document.getElementById("taskTitle").value="",document.getElementById("taskDesc").value="",document.getElementById("taskDate").value="",o.currentProj.project.tasks.push(e()),o.currentTask.task=o.currentProj.project.tasks[o.currentProj.project.tasks.length-1],o.currentTask.index=o.currentProj.project.tasks.length-1},document.getElementById("projForm").onsubmit=function(e){e.preventDefault(),o.projSubmit(),document.getElementById("projModal").style.display="none"},document.getElementById("taskForm").onsubmit=function(e){e.preventDefault(),o.taskSubmit(o.currentProj.project),document.getElementById("taskModal").style.display="none"},document.getElementById("projDel").onclick=function(){0==o.currentProj.index?alert("You cannot delete the default Tasks project"):(o.projList.splice(o.currentProj.index,1),n.renderProj(),o.currentProj={project:o.projList[0],index:0},n.renderTasks(o.currentProj.project)),document.getElementById("projModal").style.display="none"},document.getElementById("taskDel").onclick=function(){o.projList[o.currentProj.index].tasks.splice(o.currentTask.index,1),n.renderTasks(o.currentProj.project),document.getElementById("taskModal").style.display="none"},o.updateProj(o.currentProj.index,"Tasks"),n.renderProj(),n.renderTasks(o.currentProj.project)})();
//# sourceMappingURL=main.js.map